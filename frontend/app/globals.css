/* ============================================
   SAAS DESIGN SYSTEM - Industry Standard
   ============================================ */

:root {
  /* ============================================
     COLOR SYSTEM - Semantic & Accessible
     ============================================ */
  
  /* Background Colors */
  --bg: #fafbfc;
  --bg-gradient-start: #f8f9ff;
  --bg-gradient-end: #f0f4ff;
  --panel: #ffffff;
  --panel-hover: #f8f9ff;
  --panel-border: #e5e8f0;
  --panel-shadow: rgba(0, 0, 0, 0.04);
  --panel-shadow-hover: rgba(0, 0, 0, 0.08);
  
  /* Text Colors - WCAG AA Compliant */
  --text: #1a1d29;
  --text-secondary: #4a5568;
  --muted: #6b7280;
  --muted-light: #9ca3af;
  
  /* Brand Colors */
  --accent: #6366f1;
  --accent-hover: #4f46e5;
  --accent-light: #eef2ff;
  --accent-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  
  /* Status Colors */
  --success: #10b981;
  --error: #ef4444;
  --warning: #f59e0b;
  
  /* Input Colors */
  --input-bg: #ffffff;
  --input-border: #d1d5db;
  --input-border-focus: #6366f1;
  --input-shadow: rgba(99, 102, 241, 0.1);
  
  /* Upload Area Colors */
  --upload-area-bg: #f9fafb;
  --upload-area-border: #e5e7eb;
  --upload-area-border-active: #6366f1;
  --upload-area-bg-active: #eef2ff;
  
  /* ============================================
     SPACING SYSTEM - 8px Grid (Industry Standard)
     ============================================ */
  --space-0: 0;
  --space-1: 0.25rem;  /* 4px */
  --space-2: 0.5rem;   /* 8px */
  --space-3: 0.75rem;  /* 12px */
  --space-4: 1rem;     /* 16px */
  --space-5: 1.25rem;  /* 20px */
  --space-6: 1.5rem;   /* 24px */
  --space-8: 2rem;     /* 32px */
  --space-10: 2.5rem;  /* 40px */
  --space-12: 3rem;    /* 48px */
  --space-16: 4rem;    /* 64px */
  --space-20: 5rem;    /* 80px */
  --space-24: 6rem;    /* 96px */

  /* Legacy spacing (for backward compatibility) */
  --spacing-xs: var(--space-1);
  --spacing-sm: var(--space-2);
  --spacing-md: var(--space-3);
  --spacing-lg: var(--space-4);
  --spacing-xl: var(--space-5);
  --spacing-2xl: var(--space-6);
  --spacing-3xl: var(--space-8);
  --spacing-4xl: var(--space-10);

  /* ============================================
     TYPOGRAPHY SYSTEM - Fluid & Responsive
     ============================================ */
  --font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  
  /* Font Sizes - Fluid Typography (clamp) */
  --font-size-xs: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);    /* 12-14px */
  --font-size-sm: clamp(0.875rem, 0.8rem + 0.375vw, 1rem);      /* 14-16px */
  --font-size-base: clamp(1rem, 0.95rem + 0.25vw, 1.125rem);    /* 16-18px */
  --font-size-lg: clamp(1.125rem, 1rem + 0.625vw, 1.25rem);    /* 18-20px */
  --font-size-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);      /* 20-24px */
  --font-size-2xl: clamp(1.5rem, 1.3rem + 1vw, 2rem);           /* 24-32px */
  --font-size-3xl: clamp(1.875rem, 1.5rem + 1.875vw, 2.5rem);   /* 30-40px */

  /* Font Weights */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Line Heights */
  --line-height-tight: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;

  /* ============================================
     BORDER RADIUS SYSTEM
     ============================================ */
  --radius-sm: 0.375rem;   /* 6px */
  --radius-md: 0.5rem;     /* 8px */
  --radius-lg: 0.75rem;     /* 12px */
  --radius-xl: 1rem;        /* 16px */
  --radius-2xl: 1.5rem;     /* 24px */
  --radius-full: 9999px;

  /* Legacy (for backward compatibility) */
  --border-radius-sm: var(--radius-md);
  --border-radius-md: var(--radius-lg);
  --border-radius-lg: var(--radius-xl);
  --border-radius-xl: var(--radius-2xl);

  /* ============================================
     SHADOW SYSTEM - Elevation
     ============================================ */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

  /* ============================================
     TRANSITION SYSTEM
     ============================================ */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slower: 500ms cubic-bezier(0.4, 0, 0.2, 1);

  /* ============================================
     CONTAINER SYSTEM - Responsive Max Widths
     ============================================ */
  --container-xs: 100%;
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
  --container-2xl: 1536px;
  --container-max: 1600px;

  /* ============================================
     BREAKPOINTS (for reference in JS)
     ============================================ */
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;

  /* ============================================
     Z-INDEX SYSTEM
     ============================================ */
  --z-base: 1;
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
  --z-lightbox: 10000;

  /* Apply font family */
  font-family: var(--font-family-base);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
  background-attachment: fixed;
  color: var(--text);
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

button {
  font-family: inherit;
  font-weight: 500;
}

/* Smooth transitions for interactive elements - Using design system tokens */
* {
  transition: background-color var(--transition-base),
              border-color var(--transition-base),
              box-shadow var(--transition-base),
              transform var(--transition-base),
              opacity var(--transition-base);
}

/* ============================================
   ALIGNMENT & STRUCTURE UTILITIES
   ============================================ */

/* Spacing and border radius now defined in :root above */

/* ============================================
   CONTAINER SYSTEM - Responsive Containers
   ============================================ */

.container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--space-4);
  padding-right: var(--space-4);
}

@media (min-width: 640px) {
  .container {
    max-width: var(--container-sm);
    padding-left: var(--space-6);
    padding-right: var(--space-6);
  }
}

@media (min-width: 768px) {
  .container {
    max-width: var(--container-md);
  }
}

@media (min-width: 1024px) {
  .container {
    max-width: var(--container-lg);
  }
}

@media (min-width: 1280px) {
  .container {
    max-width: var(--container-xl);
  }
}

@media (min-width: 1536px) {
  .container {
    max-width: var(--container-2xl);
}
}

/* ============================================
   FORM SYSTEM - Using Design Tokens
   ============================================ */

/* Base alignment improvements */
.responsive-form {
  align-items: stretch !important;
  display: grid !important;
  width: 100% !important;
  max-width: var(--container-max) !important;
  margin: 0 auto !important;
  background: transparent !important;
  border-radius: 0 !important;
  border: none !important;
  box-shadow: none !important;
  gap: var(--space-3) !important;
  padding: var(--space-4) var(--space-6) !important;
}

.responsive-form > div,
.responsive-form > label {
  display: flex;
  flex-direction: column;
}

/* Consistent label styling - Using design tokens */
.responsive-form label > span {
  display: block;
  margin-bottom: var(--space-2);
  line-height: var(--line-height-tight);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--text);
}

/* Form input alignment */
.responsive-form input,
.responsive-form textarea,
.responsive-form select {
  width: 100%;
  box-sizing: border-box;
}

/* Button alignment */
.responsive-form button {
  align-self: flex-end;
}

/* Consistent form element heights */
.responsive-form > div:first-child,
.responsive-form > div:nth-child(2) {
  display: flex;
  flex-direction: column;
}

.responsive-form > div:first-child > div,
.responsive-form > div:nth-child(2) > div {
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Better visual hierarchy - Using design tokens */
.responsive-form label {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.responsive-form label > span {
  font-weight: var(--font-weight-semibold);
  color: var(--text);
  font-size: var(--font-size-sm);
  margin-bottom: var(--space-2);
}

/* Review panel structure improvements */
.review-panel-content {
  align-items: start;
}

.review-panel-content > div {
  display: flex;
  flex-direction: column;
}

/* ============================================
   UTILITY CLASSES - Industry Standard
   ============================================ */

/* Spacing Utilities */
.mt-auto { margin-top: auto; }
.mb-auto { margin-bottom: auto; }
.ml-auto { margin-left: auto; }
.mr-auto { margin-right: auto; }
.mx-auto { margin-left: auto; margin-right: auto; }
.my-auto { margin-top: auto; margin-bottom: auto; }

/* Flexbox Utilities */
.flex { display: flex; }
.flex-col { flex-direction: column; }
.flex-row { flex-direction: row; }
.items-center { align-items: center; }
.items-start { align-items: flex-start; }
.items-end { align-items: flex-end; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.justify-start { justify-content: flex-start; }
.justify-end { justify-content: flex-end; }
.flex-1 { flex: 1 1 0%; }
.flex-auto { flex: 1 1 auto; }
.flex-none { flex: none; }
.gap-1 { gap: var(--space-1); }
.gap-2 { gap: var(--space-2); }
.gap-3 { gap: var(--space-3); }
.gap-4 { gap: var(--space-4); }
.gap-6 { gap: var(--space-6); }

/* Width Utilities */
.w-full { width: 100%; }
.w-auto { width: auto; }
.max-w-full { max-width: 100%; }

/* Text Utilities */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }
.font-semibold { font-weight: var(--font-weight-semibold); }
.font-medium { font-weight: var(--font-weight-medium); }
.font-bold { font-weight: var(--font-weight-bold); }

/* ============================================
   UPLOAD CARD - Using Design Tokens
   ============================================ */

/* Upload card structure */
.upload-card {
  display: flex;
  flex-direction: column;
  height: 100%;
  border-radius: var(--radius-lg);
  padding: var(--space-6) var(--space-5);
  transition: all var(--transition-base);
}

.upload-card > div:first-child {
  flex: 0 0 auto;
}

.upload-card > div:last-of-type {
  flex: 1 1 auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ============================================
   SCROLLBAR SYSTEM - Using Design Tokens
   ============================================ */

/* Custom scrollbar styling for better UX */
::-webkit-scrollbar {
  width: var(--space-2);
  height: var(--space-2);
}

::-webkit-scrollbar-track {
  background: var(--upload-area-bg);
  border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb {
  background: var(--muted-light);
  border-radius: var(--radius-sm);
  transition: background var(--transition-base);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--muted);
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--muted-light) var(--upload-area-bg);
}

/* Loading spinner animation */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Shimmer loading animation for image placeholders */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Fade in up animation for gallery rows */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================
   RESPONSIVE DESIGN SYSTEM
   ============================================ */

/* ============================================
   RESPONSIVE BASE - Fluid Typography
   ============================================ */

/* Base responsive font sizing - Fluid approach */
html {
  font-size: clamp(14px, 1.5vw + 0.5rem, 16px);
}

/* Large Desktop (1400px+) */
@media (min-width: 1400px) {
  html {
    font-size: clamp(16px, 1.2vw + 0.5rem, 17px);
  }
}

/* Desktop (1025px - 1399px) */
@media (min-width: 1025px) and (max-width: 1399px) {
  html {
    font-size: 16px;
  }
}

/* Tablet Landscape (769px - 1024px) */
@media (min-width: 769px) and (max-width: 1024px) {
  html {
    font-size: clamp(14px, 1.5vw + 0.5rem, 15px);
  }
}

/* Tablet Portrait (641px - 768px) */
@media (min-width: 641px) and (max-width: 768px) {
  html {
    font-size: clamp(14px, 1.2vw + 0.5rem, 15px);
  }
}

/* Mobile (320px - 640px) */
@media (max-width: 640px) {
  html {
    font-size: 14px;
  }
}

/* Small Mobile (max-width: 375px) - Enhanced UX */
@media (max-width: 375px) {
  html {
    font-size: 14px; /* Keep readable size even on small screens */
  }
  
  /* Ensure minimum touch targets even on very small screens */
  .responsive-form button,
  .responsive-form select {
    min-height: 48px !important;
  }
  
  /* Slightly reduced padding but still comfortable - Using design tokens */
  .responsive-form {
    padding: var(--space-4) !important;
    gap: var(--space-3) !important;
  }
  
  .upload-card {
    padding: var(--space-4) var(--space-4) !important;
    min-height: 130px !important;
  }
}

/* Height-based responsive adjustments */
@media (max-height: 600px) {
  :root {
    font-size: 13px;
  }
}

@media (max-height: 500px) {
  :root {
    font-size: 12px;
  }
}

/* ============================================
   FORM RESPONSIVE LAYOUT
   ============================================ */

/* Base form layout - Desktop default - Using design tokens */
.responsive-form {
  grid-template-columns: 1fr 1fr 2fr 200px !important;
  grid-template-rows: auto auto !important;
  gap: var(--space-3) !important;
  padding: var(--space-4) var(--space-6) !important;
  /* Smooth transitions for responsive changes */
  transition: grid-template-columns var(--transition-slow),
              gap var(--transition-slow),
              padding var(--transition-slow) !important;
}

/* Grid row assignments for desktop */
.responsive-form > .form-upload-base,
.responsive-form > .form-upload-ref,
.responsive-form > .form-textarea-label,
.responsive-form > .form-controls-column {
  grid-row: 1 / 3 !important;
}

/* Large Desktop: Full layout - Using design tokens */
@media (min-width: 1400px) {
  .responsive-form {
    grid-template-columns: 1fr 1fr 2fr 200px !important;
    grid-template-rows: auto auto !important;
    padding: var(--space-5) var(--space-8) !important;
    gap: var(--space-4) !important;
    max-width: var(--container-max) !important;
  }
}

/* Medium Desktop: Slightly reduced */
@media (min-width: 1200px) and (max-width: 1399px) {
  .responsive-form {
    max-width: 100% !important;
  }
}

/* Desktop/Laptop: Adjust column widths - Using design tokens */
@media (min-width: 1025px) and (max-width: 1399px) {
  .responsive-form {
    grid-template-columns: 1fr 1fr 2fr 180px !important;
    grid-template-rows: auto auto !important;
    gap: var(--space-3) !important;
    padding: var(--space-4) var(--space-6) !important;
    max-width: 100% !important;
  }
}

/* Tablet Landscape: Adjust column widths - Using design tokens */
@media (min-width: 769px) and (max-width: 1024px) {
  .responsive-form {
    grid-template-columns: 1fr 1fr 2fr 160px !important;
    grid-template-rows: auto auto !important;
    gap: var(--space-3) !important;
    padding: var(--space-4) var(--space-5) !important;
    max-width: 100% !important;
  }

  .responsive-form textarea {
    min-height: 90px !important;
    max-height: 110px !important;
  }
}

/* Smooth transitions between breakpoints - Using design tokens */
@media (min-width: 641px) {
  .responsive-form {
    transition: grid-template-columns var(--transition-slow),
                gap var(--transition-slow),
                padding var(--transition-slow) !important;
  }
}

/* Tablet Portrait: Stack upload cards, keep textarea and controls side by side - Using design tokens */
@media (min-width: 641px) and (max-width: 768px) {
  .responsive-form {
    grid-template-columns: 1fr 1fr !important;
    grid-template-rows: auto auto auto !important;
    gap: var(--space-3) !important;
    padding: var(--space-4) var(--space-5) !important;
  }

  .responsive-form > .form-upload-base,
  .responsive-form > .form-upload-ref {
    grid-row: auto !important;
    height: auto !important;
  }

  .responsive-form > .form-textarea-label {
    grid-column: 1 / -1 !important;
    grid-row: auto !important;
    height: auto !important;
  }

  .responsive-form > .form-textarea-label textarea {
    min-height: 90px !important;
    max-height: 110px !important;
  }

  .responsive-form > .form-controls-column {
    grid-column: 1 / -1 !important;
    grid-row: auto !important;
    display: grid !important;
    grid-template-columns: 1fr 1fr !important;
    gap: 12px !important;
    height: auto !important;
    justify-content: stretch !important;
  }
}

/* Mobile: Single column stack - Compact & User-Friendly */
@media (max-width: 640px) {
  .responsive-form {
    grid-template-columns: 1fr !important;
    grid-template-rows: auto !important;
    gap: 14px !important; /* Increased gap for better visual separation */
    padding: 16px !important; /* More comfortable padding */
  }

  .responsive-form > div,
  .responsive-form > label,
  .responsive-form > button {
    grid-column: auto !important;
    grid-row: auto !important;
    width: 100% !important;
    height: auto !important;
  }

  .responsive-form > .form-upload-base,
  .responsive-form > .form-upload-ref,
  .responsive-form > .form-textarea-label,
  .responsive-form > .form-controls-column {
    grid-row: auto !important;
    grid-column: auto !important;
  }

  .responsive-form > .form-controls-column {
    display: flex !important;
    flex-direction: column !important;
    gap: 14px !important; /* Better spacing between controls */
    justify-content: stretch !important;
  }

  /* Improved label styling */
  .responsive-form label span {
    font-size: 14px !important; /* Better readability */
    font-weight: 600 !important;
    margin-bottom: 10px !important; /* More space between label and input */
    line-height: 1.4 !important;
  }

  /* Textarea improvements */
  .responsive-form textarea {
    min-height: 100px !important; /* Comfortable height for typing */
    max-height: 120px !important; /* Allow some expansion */
    font-size: 15px !important; /* Better readability */
    padding: 12px 14px !important; /* Comfortable padding */
    line-height: 1.6 !important; /* Better line spacing */
  }

  /* Select improvements */
  .responsive-form select {
    font-size: 15px !important; /* Better readability */
    padding: 12px 16px !important; /* Comfortable padding */
    min-height: 48px !important; /* Better touch target */
  }

  /* Button improvements */
  .responsive-form button {
    font-size: 15px !important; /* Better readability */
    padding: 14px 20px !important; /* Comfortable padding */
    min-height: 48px !important; /* Better touch target */
    font-weight: 600 !important; /* Better visibility */
  }
  
  /* Error message improvements */
  .responsive-form > div[style*="background: #fef2f2"] {
    padding: 16px 18px !important; /* More comfortable padding */
    font-size: 14px !important; /* Better readability */
    margin-top: 8px !important; /* Better spacing */
  }
}

/* Form overlay - Premium floating panel styling */
.form-overlay {
  /* Glass blur effect for premium look */
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  background: var(--panel) !important;
  border-top: 1px solid var(--panel-border) !important;
  border-radius: 24px 24px 0 0 !important;
  /* Ensure rounded corners are visible */
  overflow-y: auto !important;
  overflow-x: hidden !important;
  width: 100% !important;
  /* Responsive max-height - compact design, adapts to screen size */
  max-height: 35dvh !important;
  /* Smooth transitions for height changes */
  transition: max-height 0.3s ease, border-radius 0.3s ease !important;
}

/* Optional: Handle bar for mobile (visual indicator) */
.form-overlay::before {
  content: "";
  display: block;
  width: 48px;
  height: 6px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 9999px;
  margin: 12px auto 0;
  opacity: 0.6;
  /* WHY: Provides visual affordance that panel can be interacted with */
  transition: opacity 0.2s ease, background 0.2s ease;
}

/* Better handle visibility on mobile */
@media (max-width: 768px) {
  .form-overlay::before {
    opacity: 0.7; /* More visible on mobile */
    background: rgba(0, 0, 0, 0.3);
  }
}

@media (min-width: 769px) {
  .form-overlay::before {
    display: none; /* Hide handle bar on desktop */
  }
}

/* Form overlay responsive adjustments - Compact design */
/* Base: Large screens */
@media (min-width: 1400px) {
  .form-overlay {
    max-height: 32dvh !important;
    border-radius: 24px 24px 0 0 !important;
  }
}

/* Desktop */
@media (min-width: 1025px) and (max-width: 1399px) {
  .form-overlay {
    max-height: 35dvh !important;
    border-radius: 24px 24px 0 0 !important;
  }
}

/* Tablet Landscape */
@media (min-width: 769px) and (max-width: 1024px) {
  .form-overlay {
    max-height: 40dvh !important;
    border-radius: 20px 20px 0 0 !important;
  }
}

/* Tablet Portrait */
@media (min-width: 641px) and (max-width: 768px) {
  .form-overlay {
    max-height: 45dvh !important;
    border-radius: 20px 20px 0 0 !important;
  }
  
  .form-overlay::before {
    width: 40px;
    height: 4px;
    margin: 8px auto 0;
  }
}

/* Mobile - Improved UX */
@media (max-width: 640px) {
  .form-overlay {
    max-height: 50dvh !important;
    border-radius: 20px 20px 0 0 !important; /* Slightly larger radius for modern look */
    /* Better scrolling on mobile */
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior-y: contain !important; /* Prevent scroll chaining */
  }
  
  /* Larger, more visible handle bar */
  .form-overlay::before {
    width: 48px !important; /* Larger for easier visibility */
    height: 4px !important; /* Slightly thicker */
    margin: 10px auto 0 !important; /* More space */
    background: rgba(0, 0, 0, 0.25) !important; /* More visible */
    border-radius: 9999px !important;
  }
  
  /* Better scrollbar on mobile */
  .form-overlay::-webkit-scrollbar {
    width: 6px !important; /* Thinner scrollbar on mobile */
  }
  
  .form-overlay::-webkit-scrollbar-thumb {
    background: var(--muted-light) !important;
    border-radius: 3px !important;
  }
}

/* Small Mobile */
@media (max-width: 375px) {
  .form-overlay {
    max-height: 55dvh !important;
    border-radius: 12px 12px 0 0 !important;
  }
  
  .form-overlay::before {
    width: 32px;
    height: 2px;
    margin: 6px auto 0;
  }
}

/* Height-based responsive adjustments - Compact design */
/* Short screens - allow more height for form */
@media (max-height: 800px) and (min-width: 1025px) {
  .form-overlay {
    max-height: 40dvh !important;
  }
}

@media (max-height: 700px) {
  .form-overlay {
    max-height: 45dvh !important;
  }
}

@media (max-height: 600px) {
  .form-overlay {
    max-height: 50dvh !important;
  }
}

@media (max-height: 500px) {
  .form-overlay {
    max-height: 60dvh !important;
  }
}

/* Very short screens */
@media (max-height: 400px) {
  .form-overlay {
    max-height: 70dvh !important;
  }
}

/* Landscape orientation adjustments */
@media (orientation: landscape) and (max-height: 600px) {
  .form-overlay {
    max-height: 55dvh !important;
  }
}

/* Combined width and height constraints */
@media (max-width: 640px) and (max-height: 600px) {
  .form-overlay {
    max-height: 60dvh !important;
  }
}

/* ============================================
   GALLERY RESPONSIVE LAYOUT
   ============================================ */

/* ============================================
   GALLERY SCROLL CONTAINER
   ============================================ */

.gallery-scroll-container {
  /* Dynamic panel height adjustment - uses CSS variable if available, falls back to 50dvh */
  height: calc(100dvh - var(--panel-height, 50dvh)) !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  overscroll-behavior-y: auto !important; /* iOS-like bounce scroll */
  overscroll-behavior-x: contain !important;
  -webkit-overflow-scrolling: touch !important; /* Smooth scrolling on iOS */
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  scroll-behavior: smooth !important; /* Smooth scroll behavior */
  padding: 32px !important; /* Base padding, overridden by media queries */
}

.gallery-rows-container {
  display: flex !important;
  flex-direction: column !important;
  gap: 20px !important;
  padding-bottom: 20px !important; /* Minimal breathing space */
  max-width: 100% !important;
}

/* Responsive gap adjustments */
@media (max-width: 1024px) {
  .gallery-rows-container {
    gap: 18px !important;
    padding-bottom: 18px !important;
  }
}

@media (max-width: 768px) {
  .gallery-rows-container {
    gap: 16px !important;
    padding-bottom: 16px !important;
  }
}

@media (max-width: 640px) {
  .gallery-rows-container {
    gap: 12px !important;
    padding-bottom: 12px !important;
  }
}

/* Fade-out shadow at bottom for premium feel */
.gallery-scroll-container::after {
  content: "";
  position: sticky;
  bottom: 0;
  height: 60px;
  width: 100%;
  pointer-events: none;
  background: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));
  z-index: 1;
}

/* Gallery padding adjustments */
@media (max-width: 1024px) {
  .gallery-scroll-container {
    padding: 24px !important;
  }
}

@media (max-width: 768px) {
  .gallery-scroll-container {
    padding: 16px !important;
  }
}

@media (max-width: 640px) {
  .gallery-scroll-container {
    padding: 12px !important;
    /* WHY: Smooth scrolling on mobile devices */
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior-y: contain !important; /* Prevent scroll chaining */
  }
}

/* Gallery row responsive adjustments */
.gallery-row {
  display: flex !important;
  gap: 20px !important;
  width: 100% !important;
  transition: gap 0.3s ease !important;
}

@media (max-width: 1024px) {
  .gallery-row {
    gap: 16px !important;
  }
}

@media (max-width: 768px) {
  .gallery-row {
    gap: 12px !important;
  }
}

@media (max-width: 640px) {
  .gallery-row {
    gap: 8px !important;
  }
  
  /* On mobile, items should stack if needed */
  .gallery-item {
    min-width: 0 !important;
    flex-shrink: 1 !important;
  }
}

/* ============================================
   REVIEW PANEL - Responsive & Auto-Adjustable
   Industry Standard SaaS Design
   ============================================ */

/* Base Review Panel Styles - Using Design System Tokens */
/* Container styles for .review-panel-wrapper are handled inline in component */

.review-panel-content {
  /* WHY: Responsive grid that auto-adjusts based on screen size and uses maximum available space */
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(450px, 100%), 1fr));
  gap: var(--space-8);
  padding: var(--space-8);
  height: 100%;
  flex: 1 1 auto;
  min-height: 0;
  align-items: stretch;
  align-content: start;
  max-width: 100%;
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
}

/* Image Container */
.review-panel-image-container {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  min-width: 0;
  width: 100%;
  height: 100%;
  min-height: 400px;
  max-height: 100%;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  flex: 1 1 auto;
}

.review-panel-image-title {
  margin: 0;
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--text);
  line-height: var(--line-height-tight);
  display: none; /* Hidden on desktop, shown on mobile */
}

.review-panel-image-wrapper {
  width: 100%;
  height: 100%;
  min-height: 350px;
  max-height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background: var(--upload-area-bg);
  border-radius: var(--radius-xl);
  overflow: hidden;
  border: 1px solid var(--panel-border);
  position: relative;
  flex: 1 1 auto;
}

/* Details Container */
.review-panel-details {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
  min-width: 0;
  width: 100%;
  height: 100%;
  min-height: 400px;
  max-height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  padding-right: var(--space-2);
  box-sizing: border-box;
  flex: 1 1 auto;
}

/* Custom scrollbar for details */
.review-panel-details::-webkit-scrollbar {
  width: 6px;
}

.review-panel-details::-webkit-scrollbar-thumb {
  background: var(--muted-light);
  border-radius: var(--radius-sm);
}

/* Metadata Box */
.review-panel-metadata {
  padding: var(--space-5);
  background: var(--upload-area-bg);
  border-radius: var(--radius-lg);
  border: 1px solid var(--panel-border);
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

/* Prompt Sections */
.review-panel-prompt-section {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.review-panel-prompt-title {
  margin: 0;
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  color: var(--text);
  display: flex;
  align-items: center;
  gap: var(--space-2);
  line-height: var(--line-height-tight);
}

.review-panel-prompt-box {
  padding: var(--space-5);
  background: var(--upload-area-bg);
  border-radius: var(--radius-lg);
  border: 1px solid var(--panel-border);
  overflow-y: visible;
  box-sizing: border-box;
}

.review-panel-prompt-box p {
  white-space: pre-line;
  color: var(--text-secondary);
  margin: 0;
  font-size: var(--font-size-sm);
  line-height: var(--line-height-relaxed);
  word-wrap: break-word;
  word-break: break-word;
}

/* ============================================
   RESPONSIVE BREAKPOINTS - Auto-Adjusting
   ============================================ */

/* Large Desktop: Optimized for wide screens - Maximum space utilization */
@media (min-width: 1600px) {
  .review-panel-content {
    grid-template-columns: 1.3fr 0.7fr !important;
    gap: var(--space-10) !important;
    padding: var(--space-10) !important;
  }
  
  .review-panel-wrapper {
    max-height: 95vh !important;
    min-height: min(700px, 85vh) !important;
  }
  
  .review-panel-image-container {
    min-height: 500px !important;
  }
  
  .review-panel-details {
    min-height: 500px !important;
  }
}

/* Desktop: Balanced layout - Using design tokens */
@media (min-width: 1025px) and (max-width: 1599px) {
  .review-panel-content {
    grid-template-columns: 1fr 1fr !important;
    gap: var(--space-8) !important;
    padding: var(--space-8) !important;
  }
  
  .review-panel-wrapper {
    max-height: 95vh !important;
    min-height: min(650px, 80vh) !important;
    height: auto !important;
  }
  
  .review-panel-image-container {
    min-height: 450px !important;
  }
  
  .review-panel-details {
    min-height: 450px !important;
  }
}

/* Tablet: Stacked layout with auto-adjusting heights */
@media (max-width: 1024px) {
  .review-panel-overlay {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    align-items: flex-start !important;
    padding-top: var(--space-5) !important;
    padding-bottom: var(--space-5) !important;
  }

  .review-panel-wrapper {
    max-height: none !important;
    height: auto !important;
    margin: var(--space-5) auto !important;
  }

  .review-panel-content {
    display: flex !important;
    flex-direction: column !important;
    height: auto !important;
    overflow: visible !important;
    padding: var(--space-6) !important;
    gap: var(--space-6) !important;
  }

  .review-panel-image-container {
    height: auto !important;
    max-height: clamp(400px, 60vh, 700px) !important;
    min-height: clamp(300px, 45vh, 500px) !important;
    flex: 1 1 auto !important;
  }

  .review-panel-image-title {
    display: block !important;
    margin-bottom: var(--space-3) !important;
  }

  .review-panel-details {
    height: auto !important;
    overflow-y: visible !important;
    padding-right: 0 !important;
    max-height: none !important;
    flex: 1 1 auto !important;
    min-height: clamp(300px, 40vh, 500px) !important;
  }
  
  .review-panel-prompt-box {
    max-height: none !important;
    overflow-y: visible !important;
  }
}

/* Tablet adjustments - Using design tokens */
@media (max-width: 1024px) {
  .review-panel-overlay {
    padding: var(--space-5) !important;
  }

  .review-panel-container {
    padding: var(--space-5) !important;
    max-width: 95vw !important;
  }

  .review-panel-metadata {
    padding: var(--space-4) var(--space-5) !important;
  }

  .review-panel-metadata p {
    font-size: var(--font-size-sm) !important;
  }

  .review-panel-content {
    grid-template-columns: 1fr !important;
    gap: var(--space-6) !important;
    padding: var(--space-6) !important;
  }

  .review-panel-image-wrapper {
    max-height: clamp(300px, 70vh, 900px) !important;
    min-height: clamp(200px, 40vh, 400px) !important;
  }

  .review-panel-prompt-title {
    font-size: var(--font-size-lg) !important;
  }
}

/* Mobile: Compact layout with auto-adjusting - Using design tokens */
@media (max-width: 768px) {
  .review-panel-overlay {
    padding: var(--space-4) !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    align-items: flex-start !important;
    padding-top: var(--space-4) !important;
    padding-bottom: var(--space-4) !important;
  }

  .review-panel-container {
    padding: var(--space-4) !important;
    max-width: 100vw !important;
    height: auto !important;
    max-height: none !important;
    overflow: visible !important;
    margin: var(--space-4) auto !important;
  }

  .review-panel-wrapper {
    max-height: none !important;
    height: auto !important;
    min-height: auto !important;
  }

  .review-panel-metadata {
    padding: var(--space-4) !important;
  }

  .review-panel-metadata p {
    font-size: var(--font-size-xs) !important;
  }

  .review-panel-content {
    gap: var(--space-5) !important;
    padding: var(--space-5) !important;
    overflow: visible !important;
  }

  .review-panel-prompt-title {
    font-size: var(--font-size-base) !important;
  }

  .review-panel-image-wrapper {
    min-height: clamp(300px, 40vh, 500px) !important;
    max-height: clamp(400px, 55vh, 600px) !important;
    flex: 1 1 auto !important;
  }

  .review-panel-prompt-box {
    padding: var(--space-4) !important;
    max-height: none !important;
    overflow-y: visible !important;
  }

  .review-panel-details {
    overflow-y: visible !important;
    max-height: none !important;
  }
}

/* Small Mobile: Extra compact - Using design tokens */
@media (max-width: 640px) {
  .review-panel-overlay {
    padding: var(--space-3) !important;
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    align-items: flex-start !important;
    padding-top: var(--space-3) !important;
    padding-bottom: var(--space-3) !important;
  }

  .review-panel-container {
    padding: var(--space-3) !important;
    height: auto !important;
    max-height: none !important;
    overflow: visible !important;
    margin: var(--space-3) auto !important;
  }

  .review-panel-wrapper {
    max-height: none !important;
    height: auto !important;
    min-height: auto !important;
  }

  .review-panel-metadata {
    padding: var(--space-3) var(--space-4) !important;
  }

  .review-panel-metadata p {
    font-size: var(--font-size-xs) !important;
    margin-bottom: var(--space-2) !important;
  }

  .review-panel-content {
    padding: var(--space-4) !important;
    gap: var(--space-4) !important;
    min-height: auto !important;
    width: 100% !important;
    align-items: start !important;
    align-content: start !important;
    overflow: visible !important;
  }

  .review-panel-image-container,
  .review-panel-details {
    width: 100% !important;
    align-self: start !important;
  }

  .review-panel-prompt-title {
    font-size: var(--font-size-sm) !important;
    margin-bottom: var(--space-3) !important;
  }

  .review-panel-image-wrapper {
    min-height: clamp(200px, 30vh, 350px) !important;
    max-height: clamp(250px, 45vh, 450px) !important;
  }

  .review-panel-prompt-box {
    padding: var(--space-4) !important;
    max-height: none !important;
    overflow-y: visible !important;
  }

  .review-panel-prompt-box p {
    font-size: var(--font-size-xs) !important;
    line-height: var(--line-height-normal) !important;
  }

  .review-panel-details {
    overflow-y: visible !important;
    max-height: none !important;
  }
}

/* Short screens: Optimize for limited height - Using design tokens */
@media (max-height: 600px) {
  .review-panel-overlay {
    padding: var(--space-2) !important;
  }

  .review-panel-wrapper {
    max-height: 100vh !important;
  }

  .review-panel-content {
    padding: var(--space-4) !important;
    gap: var(--space-4) !important;
  }

  .review-panel-image-wrapper {
    min-height: clamp(200px, 30vh, 300px) !important;
    max-height: clamp(250px, 40vh, 400px) !important;
  }

  .review-panel-prompt-box {
    max-height: clamp(120px, 25vh, 200px) !important;
    overflow-y: auto !important;
    padding: var(--space-3) !important;
  }
}

/* Additional responsive improvements for better spacing */
@media (min-width: 1025px) and (max-width: 1280px) {
  .review-panel-container {
    max-width: 92vw !important;
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  .form-overlay {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  .responsive-form {
    padding-left: 20px !important;
    padding-right: 20px !important;
  }
}

/* ============================================
   UPLOAD CARD RESPONSIVE
   ============================================ */

/* Upload card responsive */
@media (max-width: 1024px) {
  .upload-card {
    padding: 20px 18px !important;
    min-height: 120px !important;
  }
}

@media (max-width: 768px) {
  .upload-card {
    padding: 18px 16px !important;
    min-height: 110px !important;
  }
}

/* Legacy mobile upload card styles - now enhanced above */
@media (max-width: 640px) {
  /* These are now handled in the comprehensive mobile section above */
  /* Keeping for backward compatibility but main styles are in UPLOAD CARD MOBILE section */
}

/* ============================================
   GALLERY ACTION BUTTONS RESPONSIVE
   Industry-standard mobile-first approach with CSS custom properties
   ============================================ */

/* CSS Custom Properties for responsive sizing - single source of truth */
.gallery-action-buttons {
  --btn-padding-x: 10px;
  --btn-padding-y: 10px;
  --btn-font-size: 0px;
  --btn-icon-size: 18px;
  --btn-gap: 8px;
  --btn-border-radius: 10px;
  --btn-height: 44px;
  --btn-text-display: none;
  
  display: flex;
  gap: var(--btn-gap);
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  width: 100%;
  max-width: 100%;
}

/* Base button styles - mobile-first */
.gallery-action-buttons button {
  box-sizing: border-box;
  flex-shrink: 0;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  cursor: pointer;
  pointer-events: auto;
  font-weight: 600;
  color: #ffffff;
  letter-spacing: 0.3px;
  white-space: nowrap;
  border-radius: var(--btn-border-radius);
  height: var(--btn-height);
  min-width: var(--btn-height);
}

/* Text buttons (Download, Regenerate) - Mobile: icon-only */
.gallery-btn-download,
.gallery-btn-regenerate {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  box-shadow: 0 4px 14px rgba(99, 102, 241, 0.35);
  transform: translateY(0);
  padding: var(--btn-padding-y) var(--btn-padding-x);
  font-size: var(--btn-font-size);
  gap: 0;
  width: var(--btn-height);
}

.gallery-btn-regenerate {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  box-shadow: 0 4px 14px rgba(16, 185, 129, 0.35);
}

/* Hide text on mobile, show on larger screens */
.gallery-btn-download span,
.gallery-btn-regenerate span {
  display: var(--btn-text-display);
  margin-left: 0;
  font-size: var(--btn-font-size);
  line-height: 1;
}

/* Icon buttons (Delete) */
.gallery-btn-delete {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  box-shadow: 0 4px 14px rgba(239, 68, 68, 0.35);
  transform: translateY(0) scale(1);
  width: var(--btn-height);
  padding: var(--btn-padding-y);
}

/* SVG icons - responsive sizing */
.gallery-btn-download svg,
.gallery-btn-regenerate svg,
.gallery-btn-delete svg {
  width: var(--btn-icon-size);
  height: var(--btn-icon-size);
  flex-shrink: 0;
}

/* Hover states */
.gallery-btn-download:hover {
  background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
  box-shadow: 0 8px 20px rgba(99, 102, 241, 0.45);
  transform: translateY(-3px);
  }

.gallery-btn-regenerate:hover {
  background: linear-gradient(135deg, #059669 0%, #047857 100%);
  box-shadow: 0 8px 20px rgba(16, 185, 129, 0.45);
  transform: translateY(-3px);
}

.gallery-btn-delete:hover {
  background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
  box-shadow: 0 8px 20px rgba(239, 68, 68, 0.45);
  transform: translateY(-3px) scale(1.05);
}

/* Gallery overlay responsive padding */
  .gallery-overlay {
  padding: clamp(8px, 2vw, 16px);
}

/* Tablet and up: Show text labels */
@media (min-width: 641px) {
  .gallery-action-buttons {
    --btn-text-display: inline;
    --btn-padding-x: 16px;
    --btn-padding-y: 11px;
    --btn-font-size: 13px;
    --btn-icon-size: 16px;
    --btn-gap: 10px;
    --btn-height: 44px;
  }

  .gallery-btn-download,
  .gallery-btn-regenerate {
    width: auto !important;
    min-width: fit-content !important;
    gap: 6px !important;
    font-size: var(--btn-font-size) !important;
  }

  .gallery-btn-download span,
  .gallery-btn-regenerate span {
    display: inline !important;
    margin-left: 0;
    font-size: inherit !important;
    line-height: 1;
  }
}

/* Desktop: Larger buttons with more spacing */
@media (min-width: 769px) {
  .gallery-action-buttons {
    --btn-padding-x: 18px;
    --btn-padding-y: 12px;
    --btn-font-size: 14px;
    --btn-icon-size: 18px;
    --btn-gap: 12px;
    --btn-height: 48px;
    --btn-border-radius: 12px;
  }

  .gallery-btn-download,
  .gallery-btn-regenerate {
    width: auto !important;
    min-width: fit-content !important;
    gap: 8px !important;
    font-size: 14px !important;
    padding: 12px 18px !important;
  }

  .gallery-btn-download span,
  .gallery-btn-regenerate span {
    display: inline !important;
    font-size: 14px !important;
  }

  .gallery-btn-delete {
    width: 48px !important;
    height: 48px !important;
    padding: 12px !important;
  }

  .gallery-btn-delete svg {
    width: 20px !important;
    height: 20px !important;
  }
}

/* Large Desktop: Optimal sizing */
@media (min-width: 1400px) {
  .gallery-action-buttons {
    --btn-padding-x: 20px;
    --btn-padding-y: 13px;
    --btn-font-size: 15px;
    --btn-icon-size: 19px;
    --btn-gap: 14px;
    --btn-height: 50px;
  }

  .gallery-btn-download,
  .gallery-btn-regenerate {
    width: auto !important;
    min-width: fit-content !important;
    gap: 9px !important;
    font-size: 15px !important;
    padding: 13px 20px !important;
  }

  .gallery-btn-download span,
  .gallery-btn-regenerate span {
    display: inline !important;
    font-size: 15px !important;
  }

  .gallery-btn-delete {
    width: 50px !important;
    height: 50px !important;
    padding: 13px !important;
  }

  .gallery-btn-delete svg {
    width: 21px !important;
    height: 21px !important;
  }
}

/* Very small mobile: Extra compact */
@media (max-width: 375px) {
  .gallery-action-buttons {
    --btn-height: 40px;
    --btn-padding-x: 8px;
    --btn-padding-y: 8px;
    --btn-icon-size: 16px;
    --btn-gap: 6px;
    --btn-border-radius: 8px;
  }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

.hide-on-mobile {
  display: block;
}

@media (max-width: 640px) {
  .hide-on-mobile {
    display: none !important;
  }
}

.hide-on-desktop {
  display: none;
}

@media (max-width: 640px) {
  .hide-on-desktop {
    display: block !important;
  }
}

/* ============================================
   IMAGE LIGHTBOX RESPONSIVE - FULL SCREEN DISPLAY
   ============================================ */

/* WHY: Full-screen experience - image fills viewport with minimal padding for maximum visibility */
.image-lightbox-overlay {
  padding: 0 !important; /* No padding for true full-screen */
}

/* WHY: Container should fill viewport but allow small padding for image to prevent edge touching */
.image-lightbox-overlay > div {
  width: 100% !important;
  height: 100% !important;
  padding: 20px !important; /* Small padding to prevent image from touching edges */
  box-sizing: border-box !important;
  max-width: 100vw !important;
  max-height: 100vh !important;
}

/* WHY: Image should fill available space while maintaining aspect ratio - same as generated images */
.image-lightbox-overlay img {
  max-width: 100% !important;
  max-height: 100% !important;
  width: auto !important;
  height: auto !important;
  object-fit: contain !important;
}

/* WHY: Close button positioned absolutely within the container */
.image-lightbox-close {
  position: absolute !important;
  z-index: 10001 !important;
}

/* WHY: Hint text positioned at bottom */
.image-lightbox-hint {
  position: absolute !important;
  z-index: 10001 !important;
}

@media (max-width: 1024px) {
  .image-lightbox-overlay > div {
    padding: 16px !important;
  }
}

@media (max-width: 768px) {
  .image-lightbox-overlay > div {
    padding: 12px !important;
  }
  
  .image-lightbox-close {
    top: 12px !important;
    right: 12px !important;
    width: 40px !important;
    height: 40px !important;
    font-size: 24px !important;
  }
  
  .image-lightbox-hint {
    bottom: 12px !important;
    font-size: 13px !important;
    padding: 8px 16px !important;
  }
}

@media (max-width: 640px) {
  .image-lightbox-overlay > div {
    padding: 10px !important;
  }
  
  .image-lightbox-close {
    top: 10px !important;
    right: 10px !important;
    width: 40px !important;
    height: 40px !important;
    font-size: 24px !important;
  }
  
  .image-lightbox-hint {
    bottom: 10px !important;
    font-size: 12px !important;
    padding: 8px 14px !important;
  }
}

@media (max-width: 375px) {
  .image-lightbox-overlay > div {
    padding: 8px !important;
  }
  
  .image-lightbox-close {
    top: 8px !important;
    right: 8px !important;
    width: 36px !important;
    height: 36px !important;
    font-size: 22px !important;
  }
  
  .image-lightbox-hint {
    bottom: 8px !important;
    font-size: 11px !important;
    padding: 6px 12px !important;
    display: none; /* Hide hint on very small screens to save space */
  }
}

/* ============================================
   GALLERY ROW RESPONSIVE IMPROVEMENTS
   ============================================ */

/* Ensure gallery items don't get too small on mobile */
@media (max-width: 640px) {
  .gallery-item {
    min-height: 200px !important;
  }
  
  .gallery-row {
    min-height: 200px !important;
  }
}

/* Better spacing for gallery on tablets */
@media (min-width: 641px) and (max-width: 1024px) {
  .gallery-scroll-container {
    padding: 24px !important;
  }
}

/* ============================================
   MOBILE-SPECIFIC ENHANCEMENTS
   ============================================ */

/* Disable text selection on interactive elements for better mobile UX */
@media (max-width: 640px) {
  .upload-card,
  .responsive-form button,
  .responsive-form select {
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none; /* Disable long-press menu on iOS */
  }
  
  /* Allow text selection in textarea */
  .responsive-form textarea {
    -webkit-user-select: text;
    user-select: text;
  }
  
  /* Improve focus states for accessibility */
  .responsive-form input:focus,
  .responsive-form textarea:focus,
  .responsive-form select:focus {
    outline: 2px solid var(--input-border-focus) !important;
    outline-offset: 2px !important;
  }
  
  /* Better visual feedback for disabled buttons */
  .responsive-form button:disabled {
    opacity: 0.5 !important;
    cursor: not-allowed !important;
  }
}

/* ============================================
   FORM OVERLAY MOBILE IMPROVEMENTS
   ============================================ */

/* ============================================
   MOBILE UX IMPROVEMENTS - TOUCH TARGETS & ACCESSIBILITY
   ============================================ */

/* Better touch targets on mobile - iOS recommends 44px, Android 48px */
@media (max-width: 640px) {
  /* Form elements with proper touch targets */
  .responsive-form button {
    min-height: 48px !important; /* Better touch target */
    padding: 14px 20px !important; /* Increased padding for easier tapping */
    font-size: 15px !important; /* Slightly larger text for readability */
    -webkit-tap-highlight-color: rgba(99, 102, 241, 0.2); /* Better tap feedback */
  }
  
  .responsive-form select {
    min-height: 48px !important; /* Better touch target */
    padding: 12px 16px !important; /* Increased padding */
    font-size: 15px !important; /* Better readability */
    -webkit-tap-highlight-color: rgba(99, 102, 241, 0.2);
  }
  
  .responsive-form textarea {
    min-height: 100px !important;
    padding: 12px 14px !important; /* Comfortable padding */
    font-size: 15px !important; /* Better readability on mobile */
    line-height: 1.6 !important; /* Better line spacing */
    -webkit-tap-highlight-color: rgba(99, 102, 241, 0.1);
  }
  
  /* Label text improvements */
  .responsive-form label span {
    font-size: 14px !important; /* Slightly larger for readability */
    font-weight: 600 !important;
    margin-bottom: 10px !important; /* More space between label and input */
  }
  
  /* Better spacing between form sections */
  .responsive-form > div,
  .responsive-form > label {
    margin-bottom: 4px !important; /* Visual separation */
  }
  
  /* Improve form container spacing */
  .responsive-form {
    gap: 14px !important; /* Increased gap for better separation */
    padding: 16px !important; /* More comfortable padding */
  }
}

/* ============================================
   REVIEW PANEL MOBILE IMPROVEMENTS
   ============================================ */

/* Better mobile scrolling for review panel */
@media (max-width: 1024px) {
  .review-panel-overlay {
    align-items: flex-start !important;
    padding-top: 20px !important;
    overflow-y: auto !important;
  }
  
  .review-panel-container {
    margin-top: auto !important;
    margin-bottom: auto !important;
  }
}

@media (max-width: 640px) {
  .review-panel-overlay {
    padding: 12px !important;
    align-items: flex-start !important;
    padding-top: 16px !important;
  }
  
  .review-panel-container {
    width: 100% !important;
    max-width: 100% !important;
  }
}

/* ============================================
   UPLOAD CARD MOBILE TOUCH IMPROVEMENTS
   ============================================ */

@media (max-width: 640px) {
  .upload-card {
    min-height: 140px !important; /* Better touch target - easier to tap */
    padding: 18px 16px !important; /* More comfortable padding */
    border-width: 2.5px !important; /* More visible border on mobile */
    -webkit-tap-highlight-color: rgba(99, 102, 241, 0.15); /* Better tap feedback */
    /* Add active state for better touch feedback */
    transition: all 0.15s ease, transform 0.1s ease !important;
  }
  
  /* Active/pressed state for better touch feedback */
  .upload-card:active {
    transform: scale(0.98) !important;
    background: var(--upload-area-bg-active) !important;
    border-color: var(--upload-area-border-active) !important;
  }
  
  /* Upload card header improvements */
  .upload-card > div:first-child {
    margin-bottom: 8px !important; /* Better spacing */
  }
  
  .upload-card p:first-child {
    font-size: 15px !important; /* Larger, more readable text */
    font-weight: 600 !important;
    gap: 10px !important; /* More space between icon and text */
  }
  
  .upload-card p:first-child span:first-child {
    font-size: 20px !important; /* Larger icon for better visibility */
    width: 28px !important;
    height: 28px !important;
  }
  
  /* Description text improvements */
  .upload-card p:last-child {
    font-size: 13px !important; /* Slightly larger for readability */
    line-height: 1.5 !important;
    padding-left: 38px !important; /* Adjusted for larger icon */
    margin-top: 4px !important;
    color: var(--text-secondary) !important; /* Better contrast */
  }
  
  /* Upload area placeholder text */
  .upload-card > div:last-of-type {
    min-height: 60px !important; /* Larger touch area */
    padding: 16px 0 !important;
    font-size: 14px !important; /* More readable */
  }
  
  /* Image preview improvements */
  .upload-card > div:nth-child(2) {
    margin-top: 14px !important; /* Better spacing */
    gap: 10px !important; /* Better spacing between previews */
  }
  
  /* Image preview thumbnails - larger and easier to tap */
  .upload-card > div:nth-child(2) > div {
    width: 110px !important; /* Larger previews */
    height: 110px !important;
    border-width: 2.5px !important; /* More visible border */
    border-radius: 14px !important; /* Slightly larger radius */
    -webkit-tap-highlight-color: rgba(99, 102, 241, 0.2);
    transition: transform 0.15s ease, box-shadow 0.15s ease !important;
  }
  
  /* Better touch feedback for image previews */
  .upload-card > div:nth-child(2) > div:active {
    transform: scale(0.95) !important;
  }
}

/* ============================================
   ACCESSIBILITY & SEO UTILITIES
   ============================================ */

/* Screen reader only - for SEO and accessibility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Focus visible for keyboard navigation (SEO & Accessibility) */
*:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  border-radius: var(--radius-sm);
}

/* Skip to main content link - Completely hidden but accessible to screen readers and SEO crawlers */
/* WHY: Important for SEO and accessibility, but user requested it to never be visible */
.skip-to-main {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
  /* WHY: Completely invisible but still accessible to screen readers and search engines */
  opacity: 0;
  pointer-events: none;
  /* WHY: Still functional for screen readers - they can activate it even when hidden */
}

/* WHY: Keep it hidden even on focus - user requested it never appears */
.skip-to-main:focus {
  /* No visual changes - stays completely hidden */
  position: absolute;
  width: 1px;
  height: 1px;
  clip: rect(0, 0, 0, 0);
}

/* ============================================
   DESIGN SYSTEM SUMMARY
   ============================================
   
   This design system follows SaaS industry standards:
   
   1. SPACING SYSTEM (8px Grid)
      - Uses rem-based spacing scale (--space-1 through --space-24)
      - All spacing values are multiples of 4px (0.25rem)
      - Consistent spacing across all components
   
   2. TYPOGRAPHY SYSTEM
      - Fluid typography using clamp() for responsive scaling
      - Semantic font size tokens (--font-size-xs through --font-size-3xl)
      - Consistent font weights and line heights
      - WCAG AA compliant color contrast
   
   3. COLOR SYSTEM
      - Semantic color tokens (--text, --accent, --success, etc.)
      - Accessible color combinations
      - Consistent brand colors
   
   4. RESPONSIVE BREAKPOINTS
      - Mobile: < 640px
      - Tablet: 641px - 1024px
      - Desktop: 1025px - 1399px
      - Large Desktop: 1400px+
   
   5. CONTAINER SYSTEM
      - Responsive max-widths (--container-sm through --container-max)
      - Auto-centered containers
      - Proper padding at all breakpoints
   
   6. COMPONENT SYSTEM
      - All components use design tokens
      - Consistent border radius, shadows, and transitions
      - Mobile-first responsive approach
      - Auto-adjusting layouts
   
   7. UTILITY CLASSES
      - Flexbox utilities for alignment
      - Spacing utilities for margins/padding
      - Text utilities for typography
      - Width utilities for layout
   
   USAGE:
   - Always use design tokens (--space-*, --font-size-*, etc.)
   - Use utility classes for common patterns
   - Follow mobile-first approach
   - Ensure proper touch targets (min 44px) on mobile
   - Use clamp() for fluid responsive values
   
   ============================================ */

